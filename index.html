<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SentinelSDK Sandbox</title>
  <link rel="stylesheet" href="https://static.testpress.in/static/sentinel/v1.0.0-beta.2/sentinel-sdk.css">
</head>

<body class="max-w-5xl mx-auto p-5 min-h-screen bg-gray-200 text-gray-700">
  <div class="bg-white rounded-lg p-8 shadow-sm border border-gray-200">
    <h1 class="text-center text-4xl font-light text-gray-700 mb-8">SentinelSDK Sandbox</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
      <div class="mb-0">
        <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
          <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">SDK Initialization</h2>
          <div class="flex flex-col gap-2 mb-4">
            <div class="flex items-center gap-3">
              <label for="orgId" class="w-32 font-semibold text-gray-700">Org ID:</label>
              <input type="text" id="orgId" placeholder="Enter organization UUID"
                value="123e4567-e89b-12d3-a456-426614174000"
                class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
            </div>
          </div>
          <button onclick="initializeSDK()"
            class="bg-gray-700 hover:bg-gray-800 text-white px-6 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Initialize
            SDK</button>
          <div id="initStatus" class="mt-3"></div>
        </div>
      </div>

      <div class="mb-0">
        <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
          <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">Proctoring Session</h2>
          <div class="flex flex-col gap-2 mb-2">
            <div class="flex items-center gap-3">
              <label for="sessionId" class="w-32 font-semibold text-gray-700">Session ID:</label>
              <input type="text" id="sessionId" placeholder="Enter session ID" value="session_001"
                class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
            </div>
            <div class="flex items-center gap-3">
              <label for="sessionToken" class="w-32 font-semibold text-gray-700">Token:</label>
              <input type="text" id="sessionToken" placeholder="Enter session token" value="token_abc123"
                class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
            </div>
          </div>
          <div class="flex gap-2 mt-2">
            <button onclick="startProctoring()" id="startBtn" disabled
              class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Start
              Proctoring</button>
            <button onclick="stopProctoring()" id="stopBtn" disabled
              class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Stop
              Proctoring</button>
          </div>
          <div id="proctorStatus" class="mt-3"></div>
        </div>

      </div>
    </div>
    <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
      <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">Proctoring Policies</h2>

      <!-- Snapshot Settings -->
      <div class="mb-4 p-3 border border-gray-200 rounded-lg bg-white">
        <h3 class="text-lg font-medium text-gray-700 mb-3">Snapshot Settings</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
          <div class="flex items-center gap-2">
            <input type="checkbox" id="enableSnapshot" checked class="rounded">
            <label for="enableSnapshot" class="text-sm font-medium text-gray-700">Enable Snapshot</label>
          </div>
          <div class="flex items-center gap-2">
            <label for="snapshotInterval" class="text-sm font-medium text-gray-700 w-24">Interval (s):</label>
            <input type="number" id="snapshotInterval" value="30" min="1" max="300"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
          </div>
          <div class="flex items-center gap-2">
            <label for="snapshotResolution" class="text-sm font-medium text-gray-700 w-20">Resolution:</label>
            <select id="snapshotResolution"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
              <option value="480p">480p</option>
              <option value="720p" selected>720p</option>
              <option value="1080p">1080p</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Anomaly Detection Settings -->
      <div class="mb-4 p-3 border border-gray-200 rounded-lg bg-white">
        <h3 class="text-lg font-medium text-gray-700 mb-3">Anomaly Detection</h3>
        <div class="mb-3">
          <label class="text-sm font-medium text-gray-700 block mb-2">Detection Types:</label>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_multi_face" checked class="rounded">
              <label for="anomaly_multi_face" class="text-sm text-gray-700">Multi Face</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_no_face" checked class="rounded">
              <label for="anomaly_no_face" class="text-sm text-gray-700">No Face</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_tab_switching" checked class="rounded">
              <label for="anomaly_tab_switching" class="text-sm text-gray-700">Tab Switching</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_phone_usage" class="rounded">
              <label for="anomaly_phone_usage" class="text-sm text-gray-700">Phone Usage</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_browser_minimize" checked class="rounded">
              <label for="anomaly_browser_minimize" class="text-sm text-gray-700">Browser Minimize</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_browser_special_key" checked class="rounded">
              <label for="anomaly_browser_special_key" class="text-sm text-gray-700">Special Key Press</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_screen_share" class="rounded">
              <label for="anomaly_screen_share" class="text-sm text-gray-700">Screen Share</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_looking_away" class="rounded">
              <label for="anomaly_looking_away" class="text-sm text-gray-700">Looking Away</label>
            </div>
            <div class="flex items-center gap-2">
              <input type="checkbox" id="anomaly_browser_permission_revocation" checked class="rounded">
              <label for="anomaly_browser_permission_revocation" class="text-sm text-gray-700">Permission
                Revocation</label>
            </div>
          </div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div class="flex items-center gap-2">
            <input type="checkbox" id="enableAnomalyClip" checked class="rounded">
            <label for="enableAnomalyClip" class="text-sm font-medium text-gray-700">Enable Anomaly Clip</label>
          </div>
          <div class="flex items-center gap-2">
            <label for="anomalyClipDuration" class="text-sm font-medium text-gray-700 w-24">Duration (s):</label>
            <input type="number" id="anomalyClipDuration" value="15" min="1" max="60"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
          </div>
          <div class="flex items-center gap-2">
            <label for="anomalyClipResolution" class="text-sm font-medium text-gray-700 w-20">Resolution:</label>
            <select id="anomalyClipResolution"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
              <option value="480p">480p</option>
              <option value="720p" selected>720p</option>
              <option value="1080p">1080p</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Recording Settings -->
      <div class="mb-4 p-3 border border-gray-200 rounded-lg bg-white">
        <h3 class="text-lg font-medium text-gray-700 mb-3">Recording Settings</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
          <div class="flex items-center gap-2">
            <input type="checkbox" id="recordingEnabled" checked class="rounded">
            <label for="recordingEnabled" class="text-sm font-medium text-gray-700">Enable Recording</label>
          </div>
          <div class="flex items-center gap-2">
            <label for="recordingMaxDuration" class="text-sm font-medium text-gray-700 w-24">Max Duration
              (s):</label>
            <input type="number" id="recordingMaxDuration" value="3600" min="60" max="7200"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
          </div>
          <div class="flex items-center gap-2">
            <label for="recordingResolution" class="text-sm font-medium text-gray-700 w-20">Resolution:</label>
            <select id="recordingResolution"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
              <option value="480p">480p</option>
              <option value="720p">720p</option>
              <option value="1080p" selected>1080p</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Device & Identity Settings -->
      <div class="mb-4 p-3 border border-gray-200 rounded-lg bg-white">
        <h3 class="text-lg font-medium text-gray-700 mb-3">Device & Identity Settings</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div class="flex items-center gap-2">
            <input type="checkbox" id="deviceCheckEnabled" checked class="rounded">
            <label for="deviceCheckEnabled" class="text-sm font-medium text-gray-700">Device Check</label>
          </div>
          <div class="flex items-center gap-2">
            <input type="checkbox" id="trackNavigationChanges" checked class="rounded">
            <label for="trackNavigationChanges" class="text-sm font-medium text-gray-700">Track Navigation</label>
          </div>
          <div class="flex items-center gap-2">
            <label for="idleTimeThreshold" class="text-sm font-medium text-gray-700 w-24">Idle Time (s):</label>
            <input type="number" id="idleTimeThreshold" value="300" min="30" max="1800"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
          </div>
        </div>
        <div class="mt-3">
          <div class="flex items-center gap-2">
            <label for="identityVerificationType" class="text-sm font-medium text-gray-700 w-32">Identity
              Type:</label>
            <select id="identityVerificationType"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
              <option value="face_only">Face Only</option>
              <option value="face_and_document" selected>Face & Document</option>
              <option value="document_only">Document Only</option>
            </select>
          </div>
          <div class="flex items-center gap-2 mt-2">
            <label for="identityCheckAttemptLimit" class="text-sm font-medium text-gray-700 w-32">Attempt
              Limit:</label>
            <input type="number" id="identityCheckAttemptLimit" value="3" min="1" max="10"
              class="px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400">
          </div>
        </div>
      </div>

      <!-- Policy Actions -->
      <div class="p-3 border border-gray-200 rounded-lg bg-white">
        <h3 class="text-lg font-medium text-gray-700 mb-3">Policy Actions</h3>
        <div class="flex gap-2">
          <button onclick="resetToDefaults()"
            class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">
            Reset to Defaults
          </button>
          <button onclick="showCurrentPolicies()"
            class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">
            Show Current Policies
          </button>
        </div>
      </div>
    </div>

    <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
      <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">Checkpoint Management</h2>
      <div class="flex flex-col gap-2 mb-2">
        <div class="flex items-center gap-3">
          <label for="checkpointId" class="w-32 font-semibold text-gray-700">Checkpoint:</label>
          <input type="text" id="checkpointId" placeholder="Enter checkpoint ID" value="checkpoint_1"
            class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
        </div>
      </div>
      <div class="flex gap-2 mt-2">
        <button onclick="setCheckpoint()" id="setCheckpointBtn" disabled
          class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Set
          Checkpoint</button>
        <button onclick="completeCheckpoint()" id="completeCheckpointBtn" disabled
          class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Complete
          Checkpoint</button>
      </div>
    </div>

    <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
      <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">Event Capture</h2>
      <div class="flex flex-col gap-2 mb-2">
        <div class="flex items-center gap-3">
          <label for="eventName" class="w-32 font-semibold text-gray-700">Event:</label>
          <input type="text" id="eventName" placeholder="Enter event name" value="user_interaction"
            class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
        </div>
        <div class="flex items-center gap-3">
          <label for="eventData" class="w-32 font-semibold text-gray-700">Data:</label>
          <input type="text" id="eventData" placeholder="Enter event data (JSON)"
            value='{"action": "click", "element": "button"}'
            class="flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-gray-400" />
        </div>
      </div>
      <button onclick="captureEvent()" id="captureBtn" disabled
        class="bg-gray-700 hover:bg-gray-800 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition disabled:bg-gray-400 disabled:cursor-not-allowed">Capture
        Event</button>
    </div>

    <div class="mb-5 p-5 border border-gray-200 rounded-lg bg-gray-50">
      <h2 class="text-xl font-semibold text-gray-700 border-b border-gray-300 pb-2 mb-4">Console Output</h2>
      <div id="output"
        class="bg-gray-900 text-green-300 p-5 rounded-lg font-mono text-sm max-h-96 overflow-y-auto mt-2 whitespace-pre-line">
      </div>
      <button onclick="clearOutput()"
        class="mt-3 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md font-medium shadow-sm hover:shadow transition">Clear
        Output</button>
    </div>
    <div id="tp-sentinel-ui"></div>
  </div>

  <script type="module">
    // Import the SDK
    import { TPSentinelSDK } from 'https://static.testpress.in/static/sentinel/v1.0.0-beta.2/sentinel-sdk.es.js';

    // Global variables
    let sdk = TPSentinelSDK.getInstance();
    let proctor = null;

    // Make functions global so they can be called from onclick handlers
    window.sdk = sdk;
    window.proctor = proctor;

    // Utility functions
    function log(message, type = 'info') {
      const output = document.getElementById('output');
      const timestamp = new Date().toLocaleTimeString();
      const logEntry = `[${timestamp}] ${message}\n`;
      output.textContent += logEntry;
      output.scrollTop = output.scrollHeight;

      console.log(message);
    }

    function getPolicySettings() {
      // Collect anomaly detection types
      const anomalyTypes = [];
      const anomalyCheckboxes = [
        'anomaly_multi_face', 'anomaly_no_face', 'anomaly_tab_switching',
        'anomaly_phone_usage', 'anomaly_browser_minimize', 'anomaly_browser_special_key', 'anomaly_screen_share',
        'anomaly_looking_away', 'anomaly_browser_permission_revocation'
      ];

      anomalyCheckboxes.forEach(id => {
        if (document.getElementById(id).checked) {
          anomalyTypes.push(id.replace('anomaly_', ''));
        }
      });

      return {
        // Snapshot settings
        enableSnapshot: document.getElementById('enableSnapshot').checked,
        snapshotInterval: parseInt(document.getElementById('snapshotInterval').value),
        snapshotResolution: document.getElementById('snapshotResolution').value,

        // Anomaly detection settings
        anomalyDetectionTypes: anomalyTypes,
        enableAnomalyClip: document.getElementById('enableAnomalyClip').checked,
        anomalyClipDuration: parseInt(document.getElementById('anomalyClipDuration').value),
        anomalyClipResolution: document.getElementById('anomalyClipResolution').value,

        // Recording settings
        recordingEnabled: document.getElementById('recordingEnabled').checked,
        recordingMaxDuration: parseInt(document.getElementById('recordingMaxDuration').value),
        recordingResolution: document.getElementById('recordingResolution').value,

        // Device & Identity settings
        deviceCheckEnabled: document.getElementById('deviceCheckEnabled').checked,
        trackNavigationChanges: document.getElementById('trackNavigationChanges').checked,
        idleTimeThreshold: parseInt(document.getElementById('idleTimeThreshold').value),
        identityVerificationType: document.getElementById('identityVerificationType').value,
        identityCheckAttemptLimit: parseInt(document.getElementById('identityCheckAttemptLimit').value)
      };
    }

    function setStatus(elementId, message, type = 'info') {
      const element = document.getElementById(elementId);
      let colorClass = '';
      if (type === 'success') colorClass = 'bg-gray-100 text-gray-700 border border-gray-300';
      else if (type === 'error') colorClass = 'bg-gray-100 text-gray-700 border border-gray-300';
      else colorClass = 'bg-gray-100 text-gray-700 border border-gray-300';
      element.innerHTML = `<div class="px-3 py-2 rounded font-medium mt-2 ${colorClass}">${message}</div>`;
    }

    function updateButtonStates() {
      const isInitialized = sdk && window.isSDKInitialized;
      const isProctoring = proctor !== null;

      document.getElementById('startBtn').disabled = !isInitialized || isProctoring;
      document.getElementById('stopBtn').disabled = !isProctoring;
      document.getElementById('setCheckpointBtn').disabled = !isProctoring;
      document.getElementById('completeCheckpointBtn').disabled = !isProctoring;
      document.getElementById('captureBtn').disabled = !isProctoring;
    }

    // SDK Functions
    window.initializeSDK = async function () {
      try {
        const orgId = document.getElementById('orgId').value;
        if (!orgId) {
          throw new Error('Organization ID is required');
        }

        await sdk.initialize(orgId);
        window.isSDKInitialized = true;

        log(`✅ SDK initialized successfully with org ID: ${orgId}`, 'success');
        setStatus('initStatus', 'SDK initialized successfully!', 'success');
        updateButtonStates();
      } catch (error) {
        log(`❌ SDK initialization failed: ${error.message}`, 'error');
        setStatus('initStatus', `Initialization failed: ${error.message}`, 'error');
      }
    };

    window.startProctoring = async function () {
      try {
        const sessionId = document.getElementById('sessionId').value;
        const sessionToken = document.getElementById('sessionToken').value;

        if (!sessionId || !sessionToken) {
          throw new Error('Session ID and token are required');
        }

        // Collect policy settings from UI
        const overridePolicies = getPolicySettings();

        proctor = await sdk.startProctor(sessionId, sessionToken, overridePolicies);
        console.log('proctor', proctor);
        window.proctor = proctor;

        log(`🚀 Proctoring started for session: ${sessionId}`, 'success');
        log(`📋 Policy settings: ${JSON.stringify(overridePolicies, null, 2)}`, 'info');
        setStatus('proctorStatus', `Proctoring active - Session: ${sessionId}`, 'success');
        updateButtonStates();
      } catch (error) {
        log(`❌ Failed to start proctoring: ${error.message}`, 'error');
        setStatus('proctorStatus', `Failed to start: ${error.message}`, 'error');
      }
    };

    window.stopProctoring = async function () {
      try {
        if (!proctor) {
          throw new Error('No active proctoring session');
        }

        await proctor.stop();
        proctor = null;
        window.proctor = null;

        log(`🛑 Proctoring session stopped`, 'success');
        setStatus('proctorStatus', 'Proctoring stopped', 'info');
        updateButtonStates();
      } catch (error) {
        log(`❌ Failed to stop proctoring: ${error.message}`, 'error');
        setStatus('proctorStatus', `Failed to stop: ${error.message}`, 'error');
      }
    };

    window.setCheckpoint = async function () {
      try {
        if (!proctor) {
          throw new Error('No active proctoring session');
        }

        const checkpointId = document.getElementById('checkpointId').value;
        if (!checkpointId) {
          throw new Error('Checkpoint ID is required');
        }

        // Use current policy settings for checkpoint
        const overridePolicies = getPolicySettings();

        await proctor.setCheckpoint(checkpointId, overridePolicies);
        log(`📍 Checkpoint set: ${checkpointId}`, 'success');
        log(`📋 Checkpoint policies: ${JSON.stringify(overridePolicies, null, 2)}`, 'info');
      } catch (error) {
        log(`❌ Failed to set checkpoint: ${error.message}`, 'error');
      }
    };

    window.completeCheckpoint = async function () {
      try {
        if (!proctor) {
          throw new Error('No active proctoring session');
        }

        const checkpointId = document.getElementById('checkpointId').value;
        if (!checkpointId) {
          throw new Error('Checkpoint ID is required');
        }

        await proctor.completeCheckpoint(checkpointId);
        log(`✅ Checkpoint completed: ${checkpointId}`, 'success');
      } catch (error) {
        log(`❌ Failed to complete checkpoint: ${error.message}`, 'error');
      }
    };

    window.captureEvent = async function () {
      try {
        if (!proctor) {
          throw new Error('No active proctoring session');
        }

        const eventName = document.getElementById('eventName').value;
        const eventDataStr = document.getElementById('eventData').value;

        if (!eventName) {
          throw new Error('Event name is required');
        }

        let eventData = {};
        if (eventDataStr) {
          try {
            eventData = JSON.parse(eventDataStr);
          } catch (e) {
            throw new Error('Event data must be valid JSON');
          }
        }

        await proctor.capture(eventName, eventData);
        log(`📊 Event captured: ${eventName}`, 'success');
      } catch (error) {
        log(`❌ Failed to capture event: ${error.message}`, 'error');
      }
    };

    window.clearOutput = function () {
      document.getElementById('output').textContent = '';
    };

    window.resetToDefaults = function () {
      // Reset all form elements to default values
      document.getElementById('enableSnapshot').checked = true;
      document.getElementById('snapshotInterval').value = '30';
      document.getElementById('snapshotResolution').value = '720p';

      // Reset anomaly detection checkboxes
      document.getElementById('anomaly_multi_face').checked = true;
      document.getElementById('anomaly_no_face').checked = true;
      document.getElementById('anomaly_tab_switching').checked = true;
      document.getElementById('anomaly_phone_usage').checked = false;
      document.getElementById('anomaly_browser_minimize').checked = true;
      document.getElementById('anomaly_browser_special_key').checked = true;
      document.getElementById('anomaly_screen_share').checked = false;
      document.getElementById('anomaly_looking_away').checked = false;
      document.getElementById('anomaly_browser_permission_revocation').checked = true;

      document.getElementById('enableAnomalyClip').checked = true;
      document.getElementById('anomalyClipDuration').value = '15';
      document.getElementById('anomalyClipResolution').value = '720p';

      document.getElementById('recordingEnabled').checked = true;
      document.getElementById('recordingMaxDuration').value = '3600';
      document.getElementById('recordingResolution').value = '1080p';

      document.getElementById('deviceCheckEnabled').checked = true;
      document.getElementById('trackNavigationChanges').checked = true;
      document.getElementById('idleTimeThreshold').value = '300';
      document.getElementById('identityVerificationType').value = 'face_and_document';
      document.getElementById('identityCheckAttemptLimit').value = '3';

      log('🔄 Policy settings reset to defaults', 'info');
    };

    window.showCurrentPolicies = function () {
      const policies = getPolicySettings();
      log('📋 Current Policy Settings:', 'info');
      log(JSON.stringify(policies, null, 2), 'info');
    };

    // Initialize button states
    updateButtonStates();

    // Welcome message
    log('🎯 SentinelSDK Sandbox loaded! Initialize the SDK to get started.', 'info');

  </script>
</body>

</html>